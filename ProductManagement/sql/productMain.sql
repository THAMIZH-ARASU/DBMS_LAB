CREATE TABLE PRODUCT1 (
    PRODUCT_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY, -- Correcting the identity clause
    PRODUCT_NAME VARCHAR2(100) NOT NULL, -- Text input
    CATEGORY VARCHAR2(50) NOT NULL CHECK (CATEGORY IN ('Mobile', 'Laptop', 'Tablet', 'Accessory')), -- Combobox
    BRAND VARCHAR2(50) NOT NULL, -- Combobox
    MODEL VARCHAR2(50), -- Text input
    SPECIFICATION CLOB, -- Text area for detailed description
    PRICE NUMBER(10, 2) NOT NULL CHECK (PRICE BETWEEN 100 AND 100000), -- Number input with range
    AVAILABLE_STOCK NUMBER(5), -- Number input
    IN_DATE DATE DEFAULT SYSDATE NOT NULL, -- Date picker, default value as system date
    IS_TRENDING VARCHAR2(3) DEFAULT 'No' CHECK (IS_TRENDING IN ('Yes', 'No')),-- Checkbox, default 'N'
    COMMITTED VARCHAR(3) DEFAULT 'No' CHECK (COMMITTED IN ('Yes', 'No'))
);


CREATE TABLE PRODUCT2 (
    PRODUCT_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY, -- Correcting the identity clause
    PRODUCT_NAME VARCHAR2(100) NOT NULL, -- Text input
    CATEGORY VARCHAR2(50) NOT NULL CHECK (CATEGORY IN ('Mobile', 'Laptop', 'Tablet', 'Accessory')), -- Combobox
    BRAND VARCHAR2(50) NOT NULL, -- Combobox
    MODEL VARCHAR2(50), -- Text input
    SPECIFICATION CLOB, -- Text area for detailed description
    PRICE NUMBER(10, 2) NOT NULL CHECK (PRICE BETWEEN 100 AND 100000), -- Number input with range
    AVAILABLE_STOCK NUMBER(5), -- Number input
    IN_DATE DATE DEFAULT SYSDATE NOT NULL, -- Date picker, default value as system date
    IS_TRENDING VARCHAR2(3) DEFAULT 'N0' CHECK (IS_TRENDING IN ('Yes', 'No')),-- Checkbox, default 'N'
    COMMITTED VARCHAR(3) DEFAULT 'No' CHECK (COMMITTED IN ('Yes', 'No'))
);

SELECT * FROM PRODUCT1;
SELECT * FROM PRODUCT2;

SELECT * FROM product2 WHERE product_id = 7;


MERGE INTO product2 p2
USING (SELECT * FROM product1 WHERE product_id = 7) p1 -- Select only the 7th record
ON (p2.product_id = p1.product_id) -- Match based on product_id
WHEN MATCHED THEN
    UPDATE SET p2.product_name = p1.product_name, 
              p2.category = p1.category, 
              p2.brand = p1.brand, 
              p2.model = p1.model, 
              p2.specification = p1.specification, 
              p2.price = p1.price, 
              p2.available_stock = p1.available_stock, 
              p2.is_trending = p1.is_trending
WHEN NOT MATCHED THEN
    INSERT (product_id, product_name, category, brand, model, specification, price, available_stock, is_trending) 
    VALUES (p1.product_id, p1.product_name, p1.category, p1.brand, p1.model, p1.specification, p1.price, p1.available_stock, p1.is_trending);




CREATE TABLE CATEGORY(
    cat_id NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    cat_name VARCHAR(30) UNIQUE NOT NULL
);

SELECT * FROM CATEGORY;


CREATE TABLE BRAND(
    brand_id NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    brand_name VARCHAR2(30) NOT NULL
);

SELECT * FROM BRAND;


CREATE TABLE user1(
    user_id NUMBER(4) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    username VARCHAR2(20) NOT NULL,
    password VARCHAR2(100) NOT NULL
);

SELECT * FROM user1;

INSERT INTO user1 (username, password) VALUES('thamizh', '81dc9bdb52d04dc20036dbd8313ed055');

SELECT * FROM user1 WHERE username='thamizh' AND password='81dc9bdb52d04dc20036dbd8313ed055' FETCH FIRST 1 ROWS ONLY;

SELECT * FROM product1 WHERE product_id = 8;

-- Insert Example 1
INSERT INTO PRODUCT1 (PRODUCT_NAME, CATEGORY, BRAND, MODEL, SPECIFICATION, PRICE, AVAILABLE_STOCK, IN_DATE, IS_TRENDING, COMMITTED) 
VALUES (
    'iPhone 15 Pro',
    'Mobile',
    'Apple',
    'A3100',
    '6.1-inch display, A17 Bionic chip, 128GB storage',
    1299.99,
    50,
    TO_DATE('2024-09-15', 'YYYY-MM-DD'),
    'Yes',
    'No'
);

-- Insert Example 2
INSERT INTO PRODUCT1 (PRODUCT_NAME, CATEGORY, BRAND, MODEL, SPECIFICATION, PRICE, AVAILABLE_STOCK, IS_TRENDING, COMMITTED) 
VALUES (
    'Galaxy Tab S9',
    'Tablet',
    'Samsung',
    'S9-2024',
    '11-inch AMOLED, Snapdragon 8 Gen 2, 256GB storage',
    799.50,
    20,
    'No',
    'No'
);

-- Insert Example 3
INSERT INTO PRODUCT1 (PRODUCT_NAME, CATEGORY, BRAND, MODEL, SPECIFICATION, PRICE, AVAILABLE_STOCK, IS_TRENDING, COMMITTED) 
VALUES (
    'Dell XPS 15',
    'Laptop',
    'Dell',
    'XPS9520',
    '15.6-inch OLED, Intel i9, 32GB RAM, 1TB SSD',
    2299.99,
    15,
    'Yes',
    'No'
);

-- Insert Example 4
INSERT INTO PRODUCT1 (PRODUCT_NAME, CATEGORY, BRAND, MODEL, SPECIFICATION, PRICE, AVAILABLE_STOCK, IS_TRENDING, COMMITTED) 
VALUES (
    'Sony WH-1000XM5',
    'Accessory',
    'Sony',
    'WH1000XM5',
    'Wireless Noise-Cancelling Headphones, 30-hour battery life',
    399.99,
    75,
    'No',
    'No'
);

-- Insert Example 5
INSERT INTO PRODUCT1 (PRODUCT_NAME, CATEGORY, BRAND, MODEL, SPECIFICATION, PRICE, AVAILABLE_STOCK, IS_TRENDING, COMMITTED) 
VALUES (
    'Lenovo Legion 5',
    'Laptop',
    'Lenovo',
    'Legion5-2024',
    '16-inch, AMD Ryzen 7, 16GB RAM, 512GB SSD, RTX 3060',
    1349.49,
    25,
    'Yes',
    'No'
);

-- Insert Example 6
INSERT INTO PRODUCT1 (PRODUCT_NAME, CATEGORY, BRAND, MODEL, SPECIFICATION, PRICE, AVAILABLE_STOCK, IN_DATE, IS_TRENDING, COMMITTED) 
VALUES (
    'AirPods Pro 2',
    'Accessory',
    'Apple',
    'APPro2',
    'Wireless Earbuds, Active Noise Cancellation, 6 hours battery life',
    249.99,
    100,
    TO_DATE('2024-06-01', 'YYYY-MM-DD'),
    'No',
    'No'
);

SELECT * FROM product1 WHERE product_name LIKE '%Lap%' OR brand LIKE '%Lap' OR category LIKE '%Lap%' ORDER BY product_id;

INSERT INTO CATEGORY (cat_name) VALUES('Mobile');
INSERT INTO CATEGORY (cat_name) VALUES('Laptop');
INSERT INTO CATEGORY (cat_name) VALUES('Tablet');
INSERT INTO CATEGORY (cat_name) VALUES('Accessory');


INSERT INTO BRAND(brand_name) values('Apple');
INSERT INTO BRAND(brand_name) values('Samsung');
INSERT INTO BRAND(brand_name) values('Dell');
INSERT INTO BRAND(brand_name) values('Sony');
INSERT INTO BRAND(brand_name) values('Lenovo');
